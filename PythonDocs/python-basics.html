<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python Basics</title>
    <style>
        /* CSS Variables for accent colors */
        :root {
            --accent-color: #ff4444;
        }

        .theme-blue { --accent-color: #569cd6; }
        .theme-red { --accent-color: #ff4444; }
        .theme-green { --accent-color: #4caf50; }
        .theme-yellow { --accent-color: #ffeb3b; }
        .theme-purple { --accent-color: #9c27b0; }
        .theme-pink { --accent-color: #e91e63; }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #1e1e1e;
            color: #d4d4d4;
            margin: 0;
            padding: 30px;
            line-height: 1.6;
        }

        h1 {
            color: var(--accent-color, #ff4444);
            font-size: 32px;
            margin-bottom: 20px;
            border-bottom: 2px solid #3e3e42;
            padding-bottom: 10px;
        }

        h2 {
            color: var(--accent-color, #ff4444);
            font-size: 24px;
            margin-top: 30px;
            margin-bottom: 15px;
            opacity: 0.8;
        }

        h3 {
            color: var(--accent-color, #ff4444);
            font-size: 20px;
            margin-top: 25px;
            margin-bottom: 12px;
            opacity: 0.6;
        }

        p {
            margin-bottom: 15px;
            font-size: 16px;
        }

        ol, ul {
            margin-left: 20px;
            margin-bottom: 20px;
        }

        li {
            margin-bottom: 10px;
            color: #cccccc;
        }

        .step {
            background-color: #252526;
            border-left: 4px solid var(--accent-color, #ff4444);
            padding: 20px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .step-number {
            color: var(--accent-color, #ff4444);
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 10px;
        }

        .code-container {
            position: relative;
            margin: 15px 0;
        }

        .code-section {
            width: 100%;
            margin-bottom: 15px;
        }

        .terminal-section {
            width: 100%;
            display: block;
        }

        .code-block {
            background-color: #252526;
            border: 1px solid #3e3e42;
            border-radius: 6px;
            padding: 20px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            color: #d4d4d4;
            position: relative;
            overflow-x: auto;
        }

        .code-block code {
            white-space: pre-wrap;
            display: block;
            line-height: 1.5;
            margin: 0;
            padding: 0;
        }

        .code-actions {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            gap: 5px;
        }

        .copy-button, .run-button {
            background-color: #404040;
            color: #d4d4d4;
            border: 1px solid #6e6e6e;
            border-radius: 4px;
            padding: 6px 12px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: 'Segoe UI', sans-serif;
        }

        .copy-button:hover, .run-button:hover {
            background-color: #505050;
            border-color: var(--accent-color, #ff4444);
        }

        .copy-button:active, .run-button:active {
            background-color: var(--accent-color, #ff4444);
        }

        .run-button {
            background-color: color-mix(in srgb, var(--accent-color, #ff4444) 20%, transparent);
            border-color: var(--accent-color, #ff4444);
        }

        .run-button:hover {
            background-color: color-mix(in srgb, var(--accent-color, #ff4444) 30%, transparent);
            border-color: var(--accent-color, #ff4444);
        }

        .run-button:active {
            background-color: var(--accent-color, #ff4444);
        }

        .copy-success {
            background-color: var(--accent-color, #4caf50) !important;
            border-color: var(--accent-color, #4caf50) !important;
        }

        .run-success {
            background-color: var(--accent-color, #ff4444) !important;
            border-color: var(--accent-color, #ff4444) !important;
        }

        .terminal-output {
            background-color: #0c0c0c;
            border: 1px solid #3e3e42;
            border-radius: 6px;
            padding: 15px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 13px;
            color: #ffffff;
            min-height: 80px;
            white-space: pre-wrap;
            border-radius:0px 0px 6px 6px;
        }

        .terminal-header {
            background-color: #2d2d30;
            color: #cccccc;
            padding: 8px 15px;
            border-radius: 6px 6px 0 0;
            font-size: 12px;
            font-weight: 600;
            border: 1px solid #3e3e42;
            border-bottom: none;
        }

        /* Syntax highlighting */
        .keyword { color: #569cd6; }
        .string { color: #ce9178; }
        .function { color: #dcdcaa; }
        .comment { color: #6a9955; font-style: italic; }
        .operator { color: #d4d4d4; }
        .number { color: #b5cea8; }
        .variable { color: #9cdcfe; }

        .warning {
            background-color: #2d2d1a;
            border-left: 4px solid #ffcc02;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }

        .warning-title {
            color: #ffcc02;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .info {
            background-color: #1a2332;
            border-left: 4px solid #569cd6;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }

        .info-title {
            color: #569cd6;
            font-weight: bold;
            margin-bottom: 8px;
        }
    </style>
</head>
<body>
    <h1>Python Basics</h1>
    
    <p>Learn the fundamental concepts of Python programming. This section covers variables, comments, basic input/output, and control structures.</p>

    <div class="step">
        <div class="step-number">Variables and Data Types</div>
        <p>In Python, you can store data in variables. Python automatically determines the data type based on the value you assign.</p>
        
        <h3>Numbers</h3>
        <div class="code-container">
            <div class="code-section">
                <div class="code-block">
                    <div class="code-actions">
                        <button class="copy-button" onclick="copyCode(this)">Copy</button>
                        <button class="run-button" onclick="runCode(this, 'numbers')">Run</button>
                    </div>
                    <code><span class="variable">x</span> <span class="operator">=</span> <span class="number">5</span>

<span class="variable">y</span> <span class="operator">=</span> <span class="number">3.14</span>

<span class="function">print</span>(<span class="variable">x</span>)

<span class="function">print</span>(<span class="variable">y</span>)</code>
                </div>
            </div>
            <div class="terminal-section" id="terminal-numbers">
                <div class="terminal-header">Terminal Output</div>
                <div class="terminal-output" id="output-numbers">Click "Run" to see output...</div>
            </div>
        </div>

        <h3>Strings</h3>
        <div class="code-container">
            <div class="code-section">
                <div class="code-block">
                    <div class="code-actions">
                        <button class="copy-button" onclick="copyCode(this)">Copy</button>
                        <button class="run-button" onclick="runCode(this, 'strings')">Run</button>
                    </div>
                    <code><span class="variable">name</span> <span class="operator">=</span> <span class="string">"Hello, World!"</span>

<span class="variable">greeting</span> <span class="operator">=</span> <span class="string">'Welcome to Python!'</span>

<span class="function">print</span>(<span class="variable">name</span>)

<span class="function">print</span>(<span class="variable">greeting</span>)</code>
                </div>
            </div>
            <div class="terminal-section" id="terminal-strings">
                <div class="terminal-header">Terminal Output</div>
                <div class="terminal-output" id="output-strings">Click "Run" to see output...</div>
            </div>
        </div>
    </div>

    <div class="step">
        <div class="step-number">Comments</div>
        <p>Comments are used to explain code and are ignored by Python. Use the <code>#</code> symbol to create comments.</p>
        
        <div class="code-container">
            <div class="code-section">
                <div class="code-block">
                    <div class="code-actions">
                        <button class="copy-button" onclick="copyCode(this)">Copy</button>
                        <button class="run-button" onclick="runCode(this, 'comments')">Run</button>
                    </div>
                    <code><span class="comment"># This is a comment</span>

<span class="variable">x</span> <span class="operator">=</span> <span class="number">10</span>  <span class="comment"># This is also a comment</span>

<span class="function">print</span>(<span class="variable">x</span>)  <span class="comment"># Print the value of x</span>

<span class="comment"># Comments help explain what your code does</span>

<span class="function">print</span>(<span class="string">"Comments are useful!"</span>)</code>
                </div>
            </div>
            <div class="terminal-section" id="terminal-comments">
                <div class="terminal-header">Terminal Output</div>
                <div class="terminal-output" id="output-comments">Click "Run" to see output...</div>
            </div>
        </div>
    </div>

    <div class="step">
        <div class="step-number">Print Function</div>
        <p>The <code>print()</code> function is used to display output on the screen.</p>
        
        <div class="code-container">
            <div class="code-section">
                <div class="code-block">
                    <div class="code-actions">
                        <button class="copy-button" onclick="copyCode(this)">Copy</button>
                        <button class="run-button" onclick="runCode(this, 'print-basic')">Run</button>
                    </div>
                    <code><span class="function">print</span>(<span class="string">"Hello, World!"</span>)

<span class="function">print</span>(<span class="string">"Python is awesome!"</span>)

<span class="function">print</span>(<span class="number">42</span>)

<span class="function">print</span>(<span class="string">"The answer is:"</span>, <span class="number">42</span>)</code>
                </div>
            </div>
            <div class="terminal-section" id="terminal-print-basic">
                <div class="terminal-header">Terminal Output</div>
                <div class="terminal-output" id="output-print-basic">Click "Run" to see output...</div>
            </div>
        </div>
    </div>

    <div class="step">
        <div class="step-number">If Statements</div>
        <p>If statements allow you to make decisions in your code. They execute code only when certain conditions are true.</p>
        
        <h3>Basic If Statement</h3>
        <div class="code-container">
            <div class="code-section">
                <div class="code-block">
                    <div class="code-actions">
                        <button class="copy-button" onclick="copyCode(this)">Copy</button>
                        <button class="run-button" onclick="runCode(this, 'if-basic')">Run</button>
                    </div>
                    <code><span class="keyword">if</span> <span class="number">5</span> <span class="operator">></span> <span class="number">2</span>:

    <span class="function">print</span>(<span class="string">"Five is greater than two!"</span>)</code>
                </div>
            </div>
            <div class="terminal-section" id="terminal-if-basic">
                <div class="terminal-header">Terminal Output</div>
                <div class="terminal-output" id="output-if-basic">Click "Run" to see output...</div>
            </div>
        </div>

        <h3>If-Else Statement</h3>
        <div class="code-container">
            <div class="code-section">
                <div class="code-block">
                    <div class="code-actions">
                        <button class="copy-button" onclick="copyCode(this)">Copy</button>
                        <button class="run-button" onclick="runCode(this, 'if-else')">Run</button>
                    </div>
                    <code><span class="variable">age</span> <span class="operator">=</span> <span class="number">18</span>

<span class="keyword">if</span> <span class="variable">age</span> <span class="operator">>=</span> <span class="number">18</span>:

    <span class="function">print</span>(<span class="string">"You are an adult!"</span>)

<span class="keyword">else</span>:

    <span class="function">print</span>(<span class="string">"You are a minor!"</span>)</code>
                </div>
            </div>
            <div class="terminal-section" id="terminal-if-else">
                <div class="terminal-header">Terminal Output</div>
                <div class="terminal-output" id="output-if-else">Click "Run" to see output...</div>
            </div>
        </div>
    </div>

    <div class="info">
        <div class="info-title">Important: Python Indentation</div>
        <p>Python uses <strong>indentation</strong> (spaces or tabs) to define code blocks. This is different from many other programming languages that use curly braces <code>{}</code>.</p>
        <ul>
            <li>Use 4 spaces for each indentation level (recommended)</li>
            <li>All lines at the same indentation level belong to the same block</li>
            <li>Indentation must be consistent throughout your code</li>
            <li>The colon <code>:</code> at the end of if statements indicates the start of an indented block</li>
        </ul>
    </div>

    <div class="step">
        <div class="step-number">Indentation Examples</div>
        <p>Here are examples showing correct and incorrect indentation:</p>
        
        <h3>✅ Correct Indentation</h3>
        <div class="code-container">
            <div class="code-section">
                <div class="code-block">
                    <div class="code-actions">
                        <button class="copy-button" onclick="copyCode(this)">Copy</button>
                        <button class="run-button" onclick="runCode(this, 'correct-indent')">Run</button>
                    </div>
                    <code><span class="variable">score</span> <span class="operator">=</span> <span class="number">85</span>

<span class="keyword">if</span> <span class="variable">score</span> <span class="operator">>=</span> <span class="number">90</span>:

    <span class="function">print</span>(<span class="string">"Grade: A"</span>)

    <span class="function">print</span>(<span class="string">"Excellent work!"</span>)

<span class="keyword">elif</span> <span class="variable">score</span> <span class="operator">>=</span> <span class="number">80</span>:

    <span class="function">print</span>(<span class="string">"Grade: B"</span>)

    <span class="function">print</span>(<span class="string">"Good job!"</span>)

<span class="keyword">else</span>:

    <span class="function">print</span>(<span class="string">"Grade: C or below"</span>)

    <span class="function">print</span>(<span class="string">"Keep studying!"</span>)</code>
                </div>
            </div>
            <div class="terminal-section" id="terminal-correct-indent">
                <div class="terminal-header">Terminal Output</div>
                <div class="terminal-output" id="output-correct-indent">Click "Run" to see output...</div>
            </div>
        </div>

        <h3>❌ Incorrect Indentation (Would Cause Error)</h3>
        <div class="code-container">
            <div class="code-section">
                <div class="code-block">
                    <code><span class="keyword">if</span> <span class="number">5</span> <span class="operator">></span> <span class="number">2</span>:

<span class="function">print</span>(<span class="string">"This line is not indented!"</span>)  <span class="comment"># ❌ IndentationError</span>

<span class="keyword">if</span> <span class="number">10</span> <span class="operator">></span> <span class="number">5</span>:

    <span class="function">print</span>(<span class="string">"Correct indentation"</span>)

  <span class="function">print</span>(<span class="string">"Wrong indentation"</span>)  <span class="comment"># ❌ IndentationError</span></code>
                </div>
            </div>
        </div>
    </div>

    <div class="warning">
        <div class="warning-title">Common Beginner Mistakes</div>
        <ul>
            <li><strong>Forgetting the colon (:)</strong> at the end of if statements</li>
            <li><strong>Inconsistent indentation</strong> - mixing spaces and tabs</li>
            <li><strong>No indentation</strong> after if statements</li>
            <li><strong>Wrong indentation level</strong> - not aligning code blocks properly</li>
        </ul>
    </div>

    <h2>Practice Exercise</h2>
    <p>Try creating your own Python program using what you've learned:</p>
    
    <div class="code-container">
        <div class="code-section">
            <div class="code-block">
                <div class="code-actions">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <button class="run-button" onclick="runCode(this, 'practice')">Run</button>
                </div>
                <code><span class="comment"># Practice: Create a simple program</span>

<span class="variable">name</span> <span class="operator">=</span> <span class="string">"Python Student"</span>

<span class="variable">favorite_number</span> <span class="operator">=</span> <span class="number">7</span>

<span class="function">print</span>(<span class="string">"Hello,"</span>, <span class="variable">name</span>)

<span class="function">print</span>(<span class="string">"Your favorite number is:"</span>, <span class="variable">favorite_number</span>)

<span class="keyword">if</span> <span class="variable">favorite_number</span> <span class="operator">></span> <span class="number">5</span>:

    <span class="function">print</span>(<span class="string">"That's a big number!"</span>)

<span class="keyword">else</span>:

    <span class="function">print</span>(<span class="string">"That's a small number!"</span>)</code>
            </div>
        </div>
        <div class="terminal-section" id="terminal-practice">
            <div class="terminal-header">Terminal Output</div>
            <div class="terminal-output" id="output-practice">Click "Run" to see output...</div>
        </div>
    </div>

    <h2>Next Steps</h2>
    <p>Great job! You've learned the basics of Python programming. Continue exploring to learn about loops, functions, and more advanced concepts.</p>
    
    <!-- Extra spacing for proper scrolling in iframe -->
    <div style="height: 200px;"></div>

    <script>
        // Listen for accent color changes from parent frame
        window.addEventListener('message', function(event) {
            if (event.data.type === 'updateAccentColor') {
                updateAccentColor(event.data.color);
            }
        });

        // Load saved accent color on page load
        document.addEventListener('DOMContentLoaded', function() {
            const savedColor = localStorage.getItem('accentColor') || 'red';
            updateAccentColor(savedColor);
            normalizeCodeBlocks(); // Remove extra blank lines from code blocks
        });

        function updateAccentColor(color) {
            // Remove all theme classes
            document.body.classList.remove('theme-blue', 'theme-red', 'theme-green', 'theme-yellow', 'theme-purple', 'theme-pink');
            
            // Add the selected theme class
            document.body.classList.add(`theme-${color}`);
        }

        function copyCode(button) {
            const codeBlock = button.closest('.code-block');
            const code = codeBlock.querySelector('code');
            let text = code.textContent;
            
            // Clean up the text by trimming and normalizing whitespace
            text = text.trim();
            // Remove any leading whitespace from each line while preserving relative indentation
            const lines = text.split('\n');
            const nonEmptyLines = lines.filter(line => line.trim() !== '');
            if (nonEmptyLines.length > 0) {
                const minIndent = Math.min(...nonEmptyLines.map(line => line.match(/^\s*/)[0].length));
                const cleanedLines = lines.map(line => line.slice(minIndent));
                text = cleanedLines.join('\n').trim();
            }
            
            navigator.clipboard.writeText(text).then(() => {
                button.textContent = 'Copied!';
                button.classList.add('copy-success');
                
                setTimeout(() => {
                    button.textContent = 'Copy';
                    button.classList.remove('copy-success');
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy text: ', err);
                button.textContent = 'Error';
                setTimeout(() => {
                    button.textContent = 'Copy';
                }, 2000);
            });
        }

        function runCode(button, codeType) {
            const terminalSection = document.getElementById(`terminal-${codeType}`);
            const outputDiv = document.getElementById(`output-${codeType}`);
            
            // Simulate typing effect
            button.textContent = 'Running...';
            button.disabled = true;
            button.classList.add('run-success');
            
            let output = '';
            let delay = 800;
            
            switch(codeType) {
                case 'numbers':
                    output = `5
3.14`;
                    break;
                    
                case 'strings':
                    output = `Hello, World!
Welcome to Python!`;
                    break;
                    
                case 'comments':
                    output = `10
Comments are useful!`;
                    break;
                    
                case 'print-basic':
                    output = `Hello, World!
Python is awesome!
42
The answer is: 42`;
                    break;
                    
                case 'if-basic':
                    output = `Five is greater than two!`;
                    break;
                    
                case 'if-else':
                    output = `You are an adult!`;
                    break;
                    
                case 'correct-indent':
                    output = `Grade: B
Good job!`;
                    break;
                    
                case 'practice':
                    output = `Hello, Python Student
Your favorite number is: 7
That's a big number!`;
                    break;
                    
                default:
                    output = 'Code executed successfully.';
            }
            
            // Simulate terminal typing
            setTimeout(() => {
                typeText(outputDiv, output, () => {
                    button.textContent = 'Run';
                    button.disabled = false;
                    button.classList.remove('run-success');
                });
            }, delay);
        }
        
        function typeText(element, text, callback) {
            element.textContent = '';
            let i = 0;
            const speed = 30; // milliseconds between characters
            
            function typeChar() {
                if (i < text.length) {
                    element.textContent += text.charAt(i);
                    i++;
                    setTimeout(typeChar, speed);
                } else if (callback) {
                    callback();
                }
            }
            
            typeChar();
        }

        function normalizeCodeBlocks() {
            document.querySelectorAll('.code-block code').forEach(el => {
                let html = el.innerHTML;
                html = html.replace(/^\n+|\n+$/g, '');
                html = html.replace(/\n{2,}/g, '\n');
                const lines = html.split('\n');
                const result = [];
                for (let i = 0; i < lines.length; i++) {
                    const line = lines[i];
                    if (/^\s*#/.test(line)) {
                        if (result.length > 0 && result[result.length - 1].trim() !== '') {
                            result.push('');
                        }
                    }
                    result.push(line);
                }
                el.innerHTML = result.join('\n');
            });
        }
    </script>
</body>
</html>
