<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Generator - AGM Java Tools</title>
    <style>
        :root {
            --accent-color: #f89820;
        }
        .theme-blue { --accent-color: #569cd6; }
        .theme-red { --accent-color: #ff4444; }
        .theme-green { --accent-color: #4caf50; }
        .theme-yellow { --accent-color: #ffeb3b; }
        .theme-purple { --accent-color: #9c27b0; }
        .theme-pink { --accent-color: #e91e63; }
        .theme-orange { --accent-color: #f89820; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #1e1e1e;
            color: #d4d4d4;
            margin: 0;
            padding: 0;
            height: 100vh;
        }
        .top-bar {
            background: #252526;
            border-bottom: 1px solid #3e3e42;
            padding: 15px 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .tool-title {
            color: var(--accent-color, #f89820);
            font-size: 22px;
            font-weight: 700;
            margin: 0;
        }
        .tool-subtitle {
            color: #cccccc;
            font-size: 13px;
            margin-left: 12px;
            opacity: 0.7;
        }
        .main-content {
            padding: 32px 24px 24px 24px;
            max-width: 700px;
            margin: 0 auto;
        }
        .section {
            margin-bottom: 32px;
        }
        label {
            font-size: 15px;
            font-weight: 500;
            color: var(--accent-color, #f89820);
            margin-bottom: 8px;
            display: block;
        }
        select, button {
            font-size: 15px;
            padding: 8px 12px;
            border-radius: 4px;
            border: 1px solid #3e3e42;
            background: #252526;
            color: #d4d4d4;
            margin-bottom: 16px;
            margin-right: 10px;
        }
        select:focus, button:focus {
            outline: 2px solid var(--accent-color, #f89820);
        }
        button {
            background: var(--accent-color, #f89820);
            color: #fff;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: background 0.2s;
        }
        button:hover {
            background: color-mix(in srgb, var(--accent-color, #f89820) 80%, white);
        }
        .code-block {
            background-color: #252526;
            border: 1px solid #3e3e42;
            border-radius: 6px;
            padding: 20px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            color: #d4d4d4;
            position: relative;
            overflow-x: auto;
            margin-top: 10px;
        }
        .code-block code {
            white-space: pre-wrap;
            display: block;
            line-height: 1.5;
            margin: 0;
            padding: 0;
        }
        .code-actions {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            gap: 5px;
        }
        .copy-button {
            background-color: #404040;
            color: #d4d4d4;
            border: 1px solid #6e6e6e;
            border-radius: 4px;
            padding: 6px 12px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: 'Segoe UI', sans-serif;
        }
        .copy-button:hover {
            background-color: #505050;
            border-color: var(--accent-color, #f89820);
        }
        .copy-button:active {
            background-color: var(--accent-color, #f89820);
        }
        .copy-success {
            background-color: var(--accent-color, #4caf50) !important;
            border-color: var(--accent-color, #4caf50) !important;
        }
        /* Syntax highlighting */
        .keyword { color: #569cd6; }
        .string { color: #ce9178; }
        .function { color: #dcdcaa; }
        .comment { color: #6a9955; font-style: italic; }
        .operator { color: #d4d4d4; }
        .number { color: #b5cea8; }
        .type { color: #4ec9b0; }
        .annotation { color: #dcdcaa; }

        /* Responsive */
        @media (max-width: 700px) {
            .main-content { padding: 16px 4vw; }
        }
    </style>
</head>
<body>
    <div class="top-bar">
        <div>
            <span class="tool-title">Code Generator</span>
            <span class="tool-subtitle">Generate Java code for common project types</span>
        </div>
    </div>
    <div class="main-content">
        <div class="section">
            <label for="main-category">Select a project type:</label>
            <select id="main-category">
                    <option value="ui">UI</option>
                    <option value="web">Web</option>
                    <option value="app">App</option>
                    <option value="data">Data</option>
                    <option value="network">Network</option>
                    <option value="script">Script</option>
            </select>
            <label for="sub-category">Select a template:</label>
            <select id="sub-category"></select>
            <button id="generate-btn">Generate Code</button>
        </div>
        <div class="section" id="output-section" style="display:none;">
            <div class="code-block"><div class="code-actions"><button class="copy-button" onclick="copyCode(this)">Copy</button></div><code id="code-output"></code></div>
        </div>
    </div>
    <script>
        // Theme management
        window.addEventListener('message', function(event) {
            if (event.data && event.data.type === 'updateAccentColor') {
                applyAccentColor(event.data.color);
            }
        });
        function applyAccentColor(color) {
            document.body.classList.remove('theme-blue', 'theme-red', 'theme-green', 'theme-yellow', 'theme-purple', 'theme-pink', 'theme-orange');
            document.body.classList.add(`theme-${color}`);
        }
        // Code templates
        const templates = {
            ui: {
                'Swing Window': `<span class="comment">// Simple Swing window</span>\n<span class="keyword">import</span> <span class="type">javax.swing.*</span>;\n\n<span class="keyword">public</span> <span class="keyword">class</span> <span class="type">Main</span> {\n    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="function">main</span>(<span class="type">String</span>[] args) {\n        <span class="type">JFrame</span> frame = <span class="keyword">new</span> <span class="type">JFrame</span>(<span class="string">"Hello Swing"</span>);\n        frame.setDefaultCloseOperation(<span class="type">JFrame</span>.EXIT_ON_CLOSE);\n        frame.setSize(<span class="number">300</span>, <span class="number">200</span>);\n        <span class="type">JLabel</span> label = <span class="keyword">new</span> <span class="type">JLabel</span>(<span class="string">"Welcome!"</span>, <span class="type">SwingConstants</span>.CENTER);\n        frame.add(label);\n        frame.setVisible(<span class="keyword">true</span>);\n    }\n}`,
                'JavaFX Window': `<span class="comment">// Simple JavaFX window</span>\n<span class="keyword">import</span> <span class="type">javafx.application.Application</span>;\n<span class="keyword">import</span> <span class="type">javafx.scene.Scene</span>;\n<span class="keyword">import</span> <span class="type">javafx.scene.control.Label</span>;\n<span class="keyword">import</span> <span class="type">javafx.scene.layout.StackPane</span>;\n<span class="keyword">import</span> <span class="type">javafx.stage.Stage</span>;\n\n<span class="keyword">public</span> <span class="keyword">class</span> <span class="type">Main</span> <span class="keyword">extends</span> <span class="type">Application</span> {\n    <span class="annotation">@Override</span>\n    <span class="keyword">public</span> <span class="keyword">void</span> <span class="function">start</span>(<span class="type">Stage</span> primaryStage) {\n        primaryStage.setTitle(<span class="string">"Hello JavaFX"</span>);\n        <span class="type">Label</span> label = <span class="keyword">new</span> <span class="type">Label</span>(<span class="string">"Welcome!"</span>);\n        <span class="type">StackPane</span> root = <span class="keyword">new</span> <span class="type">StackPane</span>();\n        root.getChildren().add(label);\n        primaryStage.setScene(<span class="keyword">new</span> <span class="type">Scene</span>(root, <span class="number">300</span>, <span class="number">200</span>));\n        primaryStage.show();\n    }\n}`
            },
            web: {
                'Spring Boot Controller': `<span class="comment">// Simple Spring Boot Rest Controller</span>\n<span class="keyword">import</span> <span class="type">org.springframework.web.bind.annotation.GetMapping</span>;\n<span class="keyword">import</span> <span class="type">org.springframework.web.bind.annotation.RestController</span>;\n\n<span class="annotation">@RestController</span>\n<span class="keyword">public</span> <span class="keyword">class</span> <span class="type">HelloController</span> {\n    <span class="annotation">@GetMapping("/")</span>\n    <span class="keyword">public</span> <span class="type">String</span> <span class="function">home</span>() {\n        <span class="keyword">return</span> <span class="string">"&lt;h1&gt;Hello, Spring Boot!&lt;/h1&gt;"</span>;\n    }\n}`,
                'Servlet': `<span class="comment">// Simple Servlet</span>\n<span class="keyword">import</span> <span class="type">java.io.IOException</span>;\n<span class="keyword">import</span> <span class="type">javax.servlet.http.*</span>;\n<span class="keyword">import</span> <span class="type">javax.servlet.annotation.*</span>;\n\n<span class="annotation">@WebServlet("/hello")</span>\n<span class="keyword">public</span> <span class="keyword">class</span> <span class="type">HelloServlet</span> <span class="keyword">extends</span> <span class="type">HttpServlet</span> {\n    <span class="keyword">public</span> <span class="keyword">void</span> <span class="function">doGet</span>(<span class="type">HttpServletRequest</span> request, <span class="type">HttpServletResponse</span> response) <span class="keyword">throws</span> <span class="type">IOException</span> {\n        response.setContentType(<span class="string">"text/html"</span>);\n        response.getWriter().println(<span class="string">"&lt;h1&gt;Hello, Servlet!&lt;/h1&gt;"</span>);\n    }\n}`
            },
            app: {
                'To-Do List': `<span class="comment">// Simple to-do list app (console)</span>\n<span class="keyword">import</span> <span class="type">java.util.ArrayList</span>;\n<span class="keyword">import</span> <span class="type">java.util.Scanner</span>;\n\n<span class="keyword">public</span> <span class="keyword">class</span> <span class="type">Todo</span> {\n    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="function">main</span>(<span class="type">String</span>[] args) {\n        <span class="type">ArrayList</span>&lt;<span class="type">String</span>&gt; tasks = <span class="keyword">new</span> <span class="type">ArrayList</span>&lt;&gt;();\n        <span class="type">Scanner</span> scanner = <span class="keyword">new</span> <span class="type">Scanner</span>(<span class="type">System</span>.in);\n        <span class="keyword">while</span> (<span class="keyword">true</span>) {\n            <span class="type">System</span>.out.println(<span class="string">"Add/view/quit: "</span>);\n            <span class="type">String</span> cmd = scanner.nextLine().toLowerCase();\n            <span class="keyword">if</span> (cmd.equals(<span class="string">"add"</span>)) {\n                <span class="type">System</span>.out.println(<span class="string">"Task: "</span>);\n                tasks.add(scanner.nextLine());\n            } <span class="keyword">else</span> <span class="keyword">if</span> (cmd.equals(<span class="string">"view"</span>)) {\n                <span class="type">System</span>.out.println(<span class="string">"Tasks: "</span> + tasks);\n            } <span class="keyword">else</span> <span class="keyword">if</span> (cmd.equals(<span class="string">"quit"</span>)) {\n                <span class="keyword">break</span>;\n            }\n        }\n    }\n}`,
                'Simple Calculator': `<span class="comment">// Simple calculator app</span>\n<span class="keyword">public</span> <span class="keyword">class</span> <span class="type">Calculator</span> {\n    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="function">calc</span>(<span class="type">double</span> a, <span class="type">double</span> b, <span class="type">char</span> op) {\n        <span class="keyword">switch</span> (op) {\n            <span class="keyword">case</span> <span class="string">'+'</span>: <span class="keyword">return</span> a + b;\n            <span class="keyword">case</span> <span class="string">'-'</span>: <span class="keyword">return</span> a - b;\n            <span class="keyword">case</span> <span class="string">'*'</span>: <span class="keyword">return</span> a * b;\n            <span class="keyword">case</span> <span class="string">'/'</span>: <span class="keyword">return</span> a / b;\n            <span class="keyword">default</span>: <span class="keyword">return</span> <span class="type">Double</span>.NaN;\n        }\n    }\n    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="function">main</span>(<span class="type">String</span>[] args) {\n        <span class="type">System</span>.out.println(<span class="function">calc</span>(<span class="number">5</span>, <span class="number">3</span>, <span class="string">'+'</span>));\n    }\n}`
            },
            data: {
                'JDBC Connection': `<span class="comment">// Connect to a database with JDBC</span>\n<span class="keyword">import</span> <span class="type">java.sql.*</span>;\n\n<span class="keyword">public</span> <span class="keyword">class</span> <span class="type">Database</span> {\n    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="function">main</span>(<span class="type">String</span>[] args) {\n        <span class="type">String</span> url = <span class="string">"jdbc:mysql://localhost:3306/mydb"</span>;\n        <span class="type">String</span> user = <span class="string">"user"</span>;\n        <span class="type">String</span> password = <span class="string">"pass"</span>;\n        <span class="keyword">try</span> (<span class="type">Connection</span> conn = <span class="type">DriverManager</span>.getConnection(url, user, password)) {\n            <span class="type">System</span>.out.println(<span class="string">"Connected!"</span>);\n        } <span class="keyword">catch</span> (<span class="type">SQLException</span> e) {\n            e.printStackTrace();\n        }\n    }\n}`,
                'File I/O': `<span class="comment">// Read from and write to a file</span>\n<span class="keyword">import</span> <span class="type">java.io.*</span>;\n\n<span class="keyword">public</span> <span class="keyword">class</span> <span class="type">FileIO</span> {\n    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="function">main</span>(<span class="type">String</span>[] args) <span class="keyword">throws</span> <span class="type">IOException</span> {\n        <span class="keyword">try</span> (<span class="type">FileWriter</span> writer = <span class="keyword">new</span> <span class="type">FileWriter</span>(<span class="string">"output.txt"</span>)) {\n            writer.write(<span class="string">"Hello, File!"</span>);\n        }\n        <span class="keyword">try</span> (<span class="type">BufferedReader</span> reader = <span class="keyword">new</span> <span class="type">BufferedReader</span>(<span class="keyword">new</span> <span class="type">FileReader</span>(<span class="string">"output.txt"</span>))) {\n            <span class="type">System</span>.out.println(reader.readLine());\n        }\n    }\n}`
            },
            network: {
                'HTTP GET Request': `<span class="comment">// Simple HTTP GET request (Java 11+)</span>\n<span class="keyword">import</span> <span class="type">java.net.http.*</span>;\n<span class="keyword">import</span> <span class="type">java.net.URI</span>;\n\n<span class="keyword">public</span> <span class="keyword">class</span> <span class="type">HttpGet</span> {\n    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="function">main</span>(<span class="type">String</span>[] args) <span class="keyword">throws</span> <span class="type">Exception</span> {\n        <span class="type">HttpClient</span> client = <span class="type">HttpClient</span>.newHttpClient();\n        <span class="type">HttpRequest</span> request = <span class="type">HttpRequest</span>.newBuilder()\n                .uri(<span class="type">URI</span>.create(<span class="string">"https://api.github.com"</span>))\n                .build();\n        <span class="type">HttpResponse</span>&lt;<span class="type">String</span>&gt; response = client.send(request, <span class="type">HttpResponse</span>.BodyHandlers.ofString());\n        <span class="type">System</span>.out.println(response.statusCode());\n        <span class="type">System</span>.out.println(response.body());\n    }\n}`,
                'Socket Server': `<span class="comment">// Simple socket server</span>\n<span class="keyword">import</span> <span class="type">java.net.*</span>;\n<span class="keyword">import</span> <span class="type">java.io.*</span>;\n\n<span class="keyword">public</span> <span class="keyword">class</span> <span class="type">Server</span> {\n    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="function">main</span>(<span class="type">String</span>[] args) <span class="keyword">throws</span> <span class="type">IOException</span> {\n        <span class="keyword">try</span> (<span class="type">ServerSocket</span> serverSocket = <span class="keyword">new</span> <span class="type">ServerSocket</span>(<span class="number">12345</span>)) {\n            <span class="type">Socket</span> clientSocket = serverSocket.accept();\n            <span class="type">PrintWriter</span> out = <span class="keyword">new</span> <span class="type">PrintWriter</span>(clientSocket.getOutputStream(), <span class="keyword">true</span>);\n            out.println(<span class="string">"Hello!"</span>);\n        }\n    }\n}`
            },
            script: {
                'Hello World': `<span class="comment">// Classic Hello World</span>\n<span class="keyword">public</span> <span class="keyword">class</span> <span class="type">HelloWorld</span> {\n    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="function">main</span>(<span class="type">String</span>[] args) {\n        <span class="type">System</span>.out.println(<span class="string">"Hello, World!"</span>);\n    }\n}`,
                'Array Example': `<span class="comment">// Example of using an array</span>\n<span class="keyword">public</span> <span class="keyword">class</span> <span class="type">ArrayExample</span> {\n    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="function">main</span>(<span class="type">String</span>[] args) {\n        <span class="type">String</span>[] fruits = {<span class="string">"Apple"</span>, <span class="string">"Banana"</span>, <span class="string">"Orange"</span>};\n        <span class="keyword">for</span> (<span class="type">String</span> fruit : fruits) {\n            <span class="type">System</span>.out.println(fruit);\n        }\n    }\n}`
            }
        };
        // Populate sub-category options
        const mainCategory = document.getElementById('main-category');
        const subCategory = document.getElementById('sub-category');
        function updateSubOptions() {
            const val = mainCategory.value;
            subCategory.innerHTML = '';
            Object.keys(templates[val]).forEach(key => {
                const opt = document.createElement('option');
                opt.value = key;
                opt.textContent = key;
                subCategory.appendChild(opt);
            });
        }
        mainCategory.addEventListener('change', updateSubOptions);
        updateSubOptions();
        // Generate code
        document.getElementById('generate-btn').addEventListener('click', function() {
            const cat = mainCategory.value;
            const sub = subCategory.value;
            const code = templates[cat][sub];
            document.getElementById('code-output').innerHTML = code;
            document.getElementById('output-section').style.display = 'block';
        });
        // Copy code
        function copyCode(button) {
            const codeBlock = button.closest('.code-block');
            const code = codeBlock.querySelector('code');
            let text = code.textContent;
            text = text.trim();
            // Remove any leading whitespace from each line while preserving relative indentation
            const lines = text.split('\n');
            const nonEmptyLines = lines.filter(line => line.trim() !== '');
            if (nonEmptyLines.length > 0) {
                const minIndent = Math.min(...nonEmptyLines.map(line => line.match(/^\s*/)[0].length));
                const cleanedLines = lines.map(line => line.slice(minIndent));
                text = cleanedLines.join('\n').trim();
            }
            navigator.clipboard.writeText(text).then(() => {
                button.textContent = 'Copied!';
                button.classList.add('copy-success');
                setTimeout(() => {
                    button.textContent = 'Copy';
                    button.classList.remove('copy-success');
                }, 2000);
            }).catch(err => {
                button.textContent = 'Error';
                setTimeout(() => {
                    button.textContent = 'Copy';
                }, 2000);
            });
        }
        // Accent color on load
        document.addEventListener('DOMContentLoaded', function() {
            const savedColor = localStorage.getItem('accentColor') || 'orange';
            applyAccentColor(savedColor);
        });
    </script>
</body>
</html>
